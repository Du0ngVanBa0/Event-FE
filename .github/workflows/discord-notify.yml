name: Discord Action

on:
  push:
    branches: [ main ]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v3
      
    - name: Discord Webhook Action
      uses: tsickert/discord-webhook@v5.3.0
      with:
        webhook-url: ${{ secrets.DISCORD_WEBHOOK }}
        content: |
          ðŸš€ **New push to main branch!**
          
          **Repository:** ${{ github.repository }}
          **Author:** ${{ github.actor }}
          **Commit:** $(git log -1 --pretty=format:"%s")
          **SHA:** ${{ github.sha }}
          **Link:** https://github.com/${{ github.repository }}/commit/${{ github.sha }}
          **Time:** $(date)
